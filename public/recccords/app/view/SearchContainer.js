/*
 * File: app/view/SearchContainer.js
 *
 * This file was generated by Sencha Architect
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Sencha Touch 2.3.x library, under independent license.
 * License of Sencha Architect does not include license for Sencha Touch 2.3.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('Recccords.view.SearchContainer', {
    extend: 'Ext.Container',

    requires: [
        'Ext.Toolbar',
        'Ext.Button',
        'Ext.field.Search',
        'Ext.dataview.DataView'
    ],

    config: {
        layout: 'hbox',
        items: [
            {
                xtype: 'toolbar',
                baseCls: 'x-field',
                docked: 'top',
                items: [
                    {
                        xtype: 'button',
                        border: '0 0 0 0',
                        id: 'searchHomeButton',
                        itemId: 'mybutton8',
                        padding: '5 5 0 8',
                        iconCls: 'list',
                        text: ''
                    },
                    {
                        xtype: 'searchfield',
                        flex: 1,
                        id: 'searchDiscogsField',
                        padding: '5 10 5 5',
                        styleHtmlContent: true,
                        inputCls: 'search-panel',
                        label: '',
                        labelWidth: 0,
                        placeHolder: 'search artists, labels, and releases'
                    }
                ]
            },
            {
                xtype: 'container',
                flex: 1,
                layout: 'hbox',
                items: [
                    {
                        xtype: 'dataview',
                        flex: 1,
                        height: '100%',
                        id: 'searchResultsItems',
                        style: 'background-color:white;',
                        width: '100%',
                        defaultType: 'searchResultItem',
                        emptyText: 'loading',
                        useComponents: true
                    }
                ]
            }
        ],
        listeners: [
            {
                fn: 'onSearchHomeButtonTap',
                event: 'tap',
                delegate: '#searchHomeButton'
            }
        ]
    },

    onSearchHomeButtonTap: function(button, e, eOpts) {
        var me = this;
        console.log('on serach home ');
        var homeView = Ext.create('Recccords.view.mainView', {

        });
        var subC = homeView.down("#subContainer");
         me.loggedInView = Ext.create('Recccords.view.LoggedInContainer', {
                title: 'Welcome to Recccords'
            });
        subC.push(me.loggedInView);
        var viewport = Ext.getCmp("viewport");
        viewport.removeAll();
        viewport.add(homeView);
    }

});
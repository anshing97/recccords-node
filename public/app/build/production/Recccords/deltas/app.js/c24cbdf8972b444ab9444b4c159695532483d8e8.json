["function _a35b413eb4202831b8f03c6a2916c49378a8ae99(){};",44,269810,"Sheet\",{extend:Ext.Panel,xtype:\"she",488268,39,"sheet\",modal:true,centered:true,stretchX:null,stretchY:null,enter:\"bottom\",exit:\"bottom\",showAnimation:!Ext.browser.is.AndroidStock2?{type:\"slideIn\",duration:250,easing:\"ease-out\"}:null,hideAnimation:!Ext.browser.is.AndroidStock2?{type:\"slideOut\",duration:250,easing:\"ease-in\"}:null}",515390,45,427388,32,"a=this;Ext.os.is.iOS&&this.element.dom.addEventListener(\"touchstart\",function(b){if(!a.isInputRegex.test(b.target",519374,32,"true)",485350,35,"],enter:\"top\",exit:\"top\"}],applyHideAnimation:function(b){var a=this.getExit(),d=a;if(a===null){return null}if(b===true){b={type:\"slideOut\"}}if(Ext.isString(b)){b={type:b}}var c=Ext.factory(b,Ext.fx.Animation);if(c){if(a==\"bottom\"){d=\"down\"}if(a==\"top\"){d=\"up\"}c.setDirection(d)}return c},applyShowAnimation:function(a){var d=this.getEnter(),c=d;if(d===null){return null}if(a===true){a={type:\"slideIn\"}}if(Ext.isString(a)){a={type:a}}var b=Ext.factory(a,Ext.fx.Animation);if(b){if(d==\"bottom\"){c=\"down\"}if(d==\"top\"){c=\"up\"}b.setBefore({display:null});b.setReverse(true);b.setDirection(c)}return b},updateStretchX:function(a){this.getLeft();this.getRight();if(a){this.setLeft(0);this.setRight(0)}},updateStretchY:function(a){this.getTop();this.getBottom();if(a){this.setTop(0);this.setBottom(0)}}",269835,17325,"abel",422561,32,"abel",422606,38,"abel\"",287139,14297,"field.TextAreaInput\",{extend:Ext.field.Input,xtype:\"textareainput\",tag:\"textarea\"});Ext.define(\"Ext.field.TextArea",487999,32,"textarea",297728,40,"Area\",config:{ui:\"textarea\",",487919,32,"xtype:\"textareainput\"},maxRows:null",292812,33,"getComponent().setMaxRows(a)},doSetHeight",292890,40,"var b=this.getComponent();b.input.setHeight(a)},doSetWidth:function(b",443615,33,"a=this.getComponent();a.input.setWidth(b)},doKeyUp:function(a){var b=a.getValue();a[b",298565,35,"}});Ext.define(\"Ext.MessageBox\",{extend:Ext.Sheet,config:{ui:\"dark\",baseCls:Ext.baseCSSPrefix+\"msgbox\",iconCls:null,showAnimation:{type:\"popIn\",duration:250,easing:\"ease-out\"},hideAnimation:{type:\"popOut\",duration:250,easing:\"ease-out\"},zIndex:999,defaultTextHeight:75,title:null,buttons:null,message:null,prompt:null,modal:true,layout:{type:\"vbox\",pack:\"center",485348,37,"],ui:\"light\",showAnimation:{type:\"fadeIn\"},hideAnimation:{type:\"fadeOut\"}},{theme:[\"Blackberry\"],ui:\"plain\"},{theme:[\"MoutainView\"]}],statics:{OK:{text:\"OK\",itemId:\"ok\",ui:\"action\"},YES:{text:\"Yes\",itemId:\"yes\",ui:\"action\"},NO:{text:\"No\",itemId:\"no\"},CANCEL:{text:\"Cancel\",itemId:\"cancel\"},INFO:Ext.baseCSSPrefix+\"msgbox-info\",WARNING:Ext.baseCSSPrefix+\"msgbox-warning\",QUESTION:Ext.baseCSSPrefix+\"msgbox-question\",ERROR:Ext.baseCSSPrefix+\"msgbox-error\",OKCANCEL:[{text:\"Cancel\",itemId:\"cancel\"},{text:\"OK\",itemId:\"ok\",ui:\"action\"}],YESNOCANCEL:[{text:\"Cancel\",itemId:\"cancel\"},{text:\"No\",itemId:\"no\"},{text:\"Yes\",itemId:\"yes\",ui:\"action\"}],YESNO:[{text:\"No\",itemId:\"no\"},{text:\"Yes\",itemId:\"yes\",ui:\"action\"}]",357471,39,"hasOwnProperty(\"promptConfig\")){Ext.applyIf(a,{prompt:a.promptConfig});delete a.promptConfig}if(a.hasOwnProperty(\"multiline\")||a.hasOwnProperty(\"multiLine\")){a.prompt=a.prompt||{};Ext.applyIf(a.prompt,{multiLine:a.multiline||a.multiLine});delete a.multiline;delete a.multiLine}this.defaultAllowedConfig={};var e=[\"ui\",\"showAnimation\",\"hideAnimation\",\"title\",\"message\",\"prompt\",\"iconCls\",\"buttons\",\"defaultTextHeight\"]",440169,40,"this.defaultAllowedConfig[c]=this.defaultConfig[c]",288678,79,"}}Ext.applyIf(a,{docked:\"top\",minHeight:(Ext.filterPlatform(\"blackberry\")||Ext.filterPlatform(\"ie10\"))?\"2.6em\":\"1.3em\",ui:Ext.filterPlatform(\"blackberry\")?\"light\":\"dark\",c",488443,58,"oolbar",288803,40,"a){if(a){this.add(a)}},updateButtons:function(a){var d=this;a=(!a||a.length===0)?false:a;if(a){if(d.buttonsToolbar){d.buttonsToolbar.show();d.buttonsToolbar.removeAll();d.buttonsToolbar.setItems(a)}else{var c={type:\"hbox\",pack:\"center\"};var b=Ext.theme.name==\"CupertinoClassic\"||Ext.theme.name==\"MountainView\"||Ext.theme.name==\"Blackberry\";d.buttonsToolbar=Ext.create(\"Ext.Toolbar\",{docked:\"bottom\",defaultType:\"button\",defaults:{flex:(b)?1:undefined,ui:(Ext.theme.name==\"Blackberry\")?\"action\":undefined},layout:c,ui:d.getUi(),cls:d.getBaseCls()+\"-buttons\",items:a});d.add(d.buttonsToolbar)}}else{if(d.buttonsToolbar){d.buttonsToolbar.hide()}}},applyMessage:function(a){a={html:a,cls:this.getBaseCls()+\"-text\"};",283787,34,",this._message)},updateMessage:function(a){if(a){this.add(a)}},getMessage:function(){if(this._message){return this._message.getHtml()}return null},applyIconCls:function(a){a={xtype:\"component\",docked:\"left\",width:40,height:40,baseCls:Ext.baseCSSPrefix+\"icon\",hidden:(a)?false:true,cls:a};",283787,34,",this._iconCls)},updateIconCls:function(a,b){this.getTitle();this.getButtons();if(a){this.add(a)}else{this.remove(b)}},getIconCls:function(){var b=this._iconCls,a;if(b){a=b.getCls();return(a)?a[0]:null}return null},applyPrompt:function(a){if(a){var b={label:false};if(Ext.isObject(a)){Ext.apply(b,a)}if(b.multiLine){b.height=Ext.isNumber(b.multiLine)?parseFloat(b.multiLine):this.getDefaultTextHeight();return Ext.factory(b,Ext.field.TextArea,this.getPrompt())}else{return Ext.factory(b,Ext.field.Text,this.getPrompt())}}return a},updatePrompt",423137,33,"if(b){this.remove(b)}},onClick:function(c){if(c){var b=c.config.userConfig||{},d=c.getInitialConfig(),a=this.getPrompt();if(typeof b.fn==\"function\"){c.disable();this.on({hiddenchange:function(){b.fn.call(b.scope||null,d.itemId||d.text,a?a.getValue():null,b);c.enable()},single:true,scope:this})}if(b.input){b.input.dom.blur()}}this.hide()},show:function(f){Ext.util.InputBlocker.blockInputs();if(!this.getParent()&&Ext.Viewport){Ext.Viewport.add(this)}if(!f){return this.callParent()}var b=Ext.Object.merge({},{value:\"\"},f);var e=f.buttons||Ext.MessageBox.OK||[],d=[],c=f;Ext.each(e,function(g){if(!g){return}d.push(Ext.apply({userConfig:c,scope:this,handler:\"onClick\"},g))},this);b.buttons=d;if(b.promptConfig){}b.prompt=(b.promptConfig||b.prompt)||null;if(b.multiLine){b.prompt=b.prompt||{};b.prompt.multiLine=b.multiLine;delete b.multiLine}b=Ext.merge({},this.defaultAllowedConfig,b);this.setConfig(b);var a=this.getPrompt();if(a){a.setValue(f.value||\"\")}this.callParent();return this},alert:function(d,c,b,a){return this.show({title:d||null,message:c||null,buttons:Ext.MessageBox.OK,promptConfig:false,fn:function(){if(b){b.apply(a,arguments)}},scope:a})},confirm:function(d,c,b,a){return this.show({title:d||null,message:c||null,buttons:Ext.MessageBox.YESNO,promptConfig:false,scope:a,fn:function(){if(b){b.apply(a,arguments)}}})},prompt:function(g,d,c,b,f,e,a){return this.show({title:g||null,message:d||null,buttons:Ext.MessageBox.OKCANCEL,scope:b,prompt:a||true,multiLine:f,value:e,fn:function(){if(c){c.apply(b,arguments)}}})}},function(a){Ext.onSetup(function(){Ext.Msg=new a})",301417,236539,"model.CollectionItem",537830,33,"fields:[{name:\"recordName\"},{name:\"recordLabel\"},{name:\"recordArtist\"},{name:\"recordYear\"},{name:\"recordThumb\"},{name:\"discogsId",537549,35,"DetailItem",537830,33,"fields:[{name:\"resource_url\"},{name:\"title\"},{name:\"artistlabel\"},{name:\"year",537549,35,"FeedItem",537830,33,"fields:[{name:\"recordName\"},{name:\"recordLabel\"},{name:\"recordArtist\"},{name:\"recordYear\"},{name:\"recordThumb\"},{name:\"timeAgo\"},{name:\"username\"},{name:\"userActivity",546096,34,"Login",538640,33,537999,35,"\"fit\"",538046,73,"\"fit\"",538131,162,"username",538310,112,539238,49,538448,271,"\"fit\"",538046,46,"signupForm\",margin:0,layout:\"fit\"",538131,72,538889,251,"password",539144,51," \"",539211,330,"config:{id:\"CollectionContainer\",layout:\"hbox\",items:[{xtype:\"toolbar\",docked:\"top\",title:\"Collection",546251,42,"id:\"collectionHomeButton",546291,43,546525,36,"\"hbox\"",546574,51,"collection",546638,65,"collectionDataItem\",emptyText:\"no data\",useComponents:true}]}],listeners:[{fn:\"onCollectionHomeButtonTap\",event:\"tap\",delegate:\"#collectionHomeButton\"},{fn:\"onCollectionContainerActivate\",event:\"activate\"}]},onCollectionHomeButtonTap:function(d,h,c){var f=this;console.log(\"on serach home \");var b=Ext.create(\"Recccords.view.mainView\",{});var g=b.down(\"#subContainer\");f",540923,92,"g.push(f.loggedInView);var a=Ext.getCmp(\"viewport\");a.removeAll();a.add(b)},onCollectionContainerActivate:function(e,b,a,c){console.log(\"onCollectionContainerInitialize\");var d=this;successCB=function(f){console.log(\"collectioncallback \"+f);var g",544454,40,"CollectionItem\",data:f});console.log(\"count \"+g.totalCount);d.down(\"#collectionItems\").setStore(g)};failCB=function(f){console.log(\"getCOllection failed error : \"+f.error)};d.successCB=successCB;d.failCB=failCB;getCollection(d.successCB,d.failCB",547321,32,"mainView",488224,38,"mainView\",config:{id:\"mainViewContainer\",itemId:\"mainViewContainer\",layout:\"fit\"",539811,128,539733,66,"\"fit\"",543568,38,539951,381,",",543666,39,540351,1713,"var f=getParseUser();me.launchUserScreen(me,f",542199,413,542634,267,"Ext.create(\"Recccords.view.mainView\",{});var c=a.down(\"#subContainer\");me.getViewport().removeAll(true,false);var b=getParseUser();if(b){me.launchUserScreen(me,b)}else{me.getViewport().add(a);",543123,117,"c",543260,309,",launchUserScreen:function(b,a){parseCheckToken(function(c){console.log(\"in launch verify token is \"+c);if(c){console.log(\"MyController: redirecting to FEED\");b",540923,92,"b.feed",542992,32,"FeedContainer\",{});b.getViewport().removeAll(true,false);b.getViewport().add(b.feedView)}else{console.log(\"MyController: redirecting to OAUTH\");b.oauth",542992,32,"OAuthContainer\",{});b.getViewport().removeAll(true,false);b.getViewport().add(b.oauthView)",543565,166,"SearchTap\"},\"button#collectionViewButton\":{tap:\"onCollectionsTap\"},\"button#feedButton\":{tap:\"onFeedTap\"},\"button#wantsViewButton\":{tap:\"onWants",540520,51,"Tap\"}}},onSearchTap:function(d,f,c",543771,61,"var b=me.getViewport();var a=b.down(\"#mainViewContainer\");b.removeAll(true,false);b.add(searchView)},onCollectionsTap:function(d,f,c){collectio",542991,33,"CollectionContainer\",{});var b=me.getViewport();var a=b.down(\"#mainViewContainer\");b.removeAll(true,false);b.add(collectionView)},onFeedTap:function(d,f,c){feed",542992,32,"FeedContainer\",{});var b=me.getViewport();var a=b.down(\"#mainViewContainer\");b.removeAll(true,false);b.add(feedView)},onWantsTap:function(d,f,c){wants",542992,32,"WantsContainer\",{});var b=me.getViewport();var a=b.down(\"#mainViewContainer\");b.removeAll(true,false);b.add(wantsView)},onDiscogsTap:function(d,f,c){oauth",542992,32,"OAuthContainer\",{});var b=me.getViewport();var a=b.down(\"#mainViewContainer\");b.removeAll(true,false);b.add(oauthView",543567,38,543934,187,",searchHomeButton:\"#searchHomeButton\",",543666,32,544133,33,"action:\"onSearchfieldAction",544193,61,"},\"#searchResultsItems\":{itemtap:\"onItemTap\"},\"container#searchContainer\":{remove:\"onSearchContainerRemove\"}}},onSearchfieldAction:function(c,f,a){var d=c.getValue().trim();var b=this;b.clearImageInterval();if(d.length>0){searchDiscogs(d,function(e,i,j){console.log(\"SearchCallBack: begin ------------\");console.log(e);console.log(\"SearchCallBack: end ------------\");if(i>0){var g=new ",544455,53,"e.results});b",544556,34,"g);var h=setInterval(function(){getLocalImages(j,function(l){if(l.status==200||l.status==204){b.clearImageInterval();if(l.results){for(var m=0;m<l.results.length;m++){var k=g.getAt(m);k.set(\"thumb\",l.results[m])}}}})},2500);b.setImageInterval(h)}else{console.log(\"SearchCallBack: no results\")}})}",544680,123,"h,a,g,d){console.log(\"SearchController: onItemtap: \"+h._record.data.id);var f=this;f.clearImageInterval();f.successCB=function(j){h.setStyle(\"background-color:rgb(255,255,255);\");console.log(\"SearchController: results from getRecordDiscogsAndUserData: \");console.log(j);var i=Ext.create(\"Recccords.view.DetailContainer\",{});i.setData(j);var e=f.getViewport();e.add(i);Ext.Viewport.setActiveItem(i)};f.failCB=function(e){console.log(\"SearchController: getRecordDiscogsAndUserData failed error : \"+e)};h.setStyle(\"background-color:rgb(200,200,200);\");getRecordDiscogsAndUserData(h._record.data.id,f.successCB,f.failCB)},onSearchContainerRemove:function(a,d,b,c){this.clearImageInterval()},clearImageInterval:function(){if(this.imagePollingInterval){clearInterval(this.imagePollingInterval)}},setImageInterval:function(a){this.clearImageInterval();this.imagePollingInterval=a",543568,37,"Collection",539952,53,"collectionContainer:\"#collectionContainer\",collectionItems:\"#collectionItems\",detailContainer:\"#detailContainer\",",543666,32,"#collectionItems\":{itemtap:\"onDataviewItemTap\"}}},onDataviewItemTap:function(b,c,h,a,g,d){console.log(\"CollectionController: onDataviewItemtap: \"+h._record.data.discogsId);var f=this;f.successCB=function(j){h.setStyle(\"background-color:rgb(255,255,255);\");console.log(\"CollectionController: results from getRecordDiscogsAndUserData: \");console.log(j);var i=Ext.create(\"Recccords.view.DetailContainer\",{});i.setData(j);i.down(\"#detailBar\").setTitle(j.discogsData.title);var e=f.getViewport();e.add(i);Ext.Viewport.setActiveItem(i)};f.failCB=function(e){h.setStyle(\"background-color:rgb(255,255,255);\");console.log(\"CollectionController: getRecordDiscogsAndUserData failed error : \"+e)};h.setStyle(\"background-color:rgb(200,200,200);\");getRecordDiscogsAndUserData(h._record.data.discogsId,f.successCB,f.failCB",543567,38,"Detail",539952,53,"detailContainer:\"#detailContainer\"},control:{\"button#recordBack",543715,58,"console.log(\"onbackbutton\");b.getParent().getParent().getParent().remove(b.getParent().getParent()",543567,38,"Feed",539952,53,543666,32,"#wantItems\":{itemtap:\"onDataviewItemTap\"}}},onDataviewItemTap:function(b,c,h,a,g,d){console.log(\"CollectionController: onDataviewItemtap: \"+h._record.data.discogsId);var f=this;f.successCB=function(j){h.setStyle(\"background-color:rgb(255,255,255);\");console.log(\"CollectionController: results from getRecordDiscogsAndUserData: \");console.log(j);var i=Ext.create(\"Recccords.view.DetailContainer\",{});i.setData(j);i.down(\"#detailBar\").setTitle(j.discogsData.title);var e=f.getViewport();e.add(i);Ext.Viewport.setActiveItem(i)};f.failCB=function(e){console.log(\"CollectionController: getRecordDiscogsAndUserData failed error : \"+e)};getRecordDiscogsAndUserData(h._record.data.discogsId,f.successCB,f.failCB",543567,38,"OAuth",539952,53,"oauthContainer:\"#oauthContainer\"},control:{\"button#connectButton\":{tap:\"onConnectButtonTap\"},\"button#logoutUserButton\":{tap:\"onLogoutUserButtonTap\"}}},onConnectButtonTap:function(b,c,a){window.location.href=\"/auth/connect\"},onLogoutUserButton",542592,39," tapped\");parseLogOut()",545485,32,"ist",538640,47,"listcontainer\",config:{layout:\"fit\"",544960,341,"\"fit\"",545313,283,"scrollable:\"vertical\",items:[",545864,46,"25 25 15 25\"",545934,70,"feedButton\",margin:\"0 25 15 25\"",545678,41,"Feed",545733,58,"15 25\"",545678,41,545851,33,"wantsViewButton\",margin:\"0 25 15 25\"",545678,41,"Wants\"},",545603,50,"0 25 15 25\",minHeight:3",546048,42,545719,37,546004,43,"3",546048,129,"id:\"searchContainer\",layout:\"hbox\"",546197,96,"id:\"searchHomeButton\",itemId:\"mybutton8",546291,263,"id:\"searchResultsContainer\",layout:\"hbox\"",546574,189,",listeners:[{fn:\"onSearchHomeButtonTap\",event:\"tap\",delegate:\"#searchHomeButton\"}]},onSearchHomeButtonTap:function(d,h,c){var f=this;console.log(\"on serach home \");var b=Ext.create(\"Recccords.view.mainView\",{});var g=b.down(\"#subContainer\");f",540923,92,"g.push(f.loggedInView);var a=Ext.getCmp(\"viewport\");a.removeAll();a.add(b)",546763,139,"itemId:\"searchResultItem",546900,50,"\"hbox\",itemCls:\"photo\"",546963,34,547003,39,",src:\"\"",547042,74,",{xtype:\"button\",border:0,bottom:\"\",height:50,itemId:\"btn\",margin:20,padding:\"\",width:50,iconCls:\"add\",text:\"\"}],listeners:[{fn:\"onImgError\",event:\"error\",delegate:\"#img\"},{fn:\"onBtnTap\",event:\"tap\",delegate:\"#btn\"}]},onImgError:function(c,b,a){c.setSrc(\"https://s3.amazonaws.com/recccords/images/vinyl-placeholder.png\")},onBtnTap:function(d,g,c){var b=this.getRecord();var f=function(){Ext.Msg.alert(\"added to collection.\")};var a=function(){Ext.Msg.alert(\"errror adding to collection.\")};saveToCollection(b.data,f,a);g.stopPropagation()",547117,38,"if(b){",547155,169,539468,40,"Data",422698,46,"alias:\"widget.collectionDataItem\",config:{border:\"\",itemId:\"collectionItem",546900,50,"\"hbox\",itemCls:\"photo\"",546963,154,",listeners:[{fn:\"onImgError\",event:\"error\",delegate:\"#img\"}]},onImgError:function(c,b,a){c.setSrc(\"https://s3.amazonaws.com/recccords/images/vinyl-placeholder.png\")",547117,38,"if(b){c.down(\"#img\").setSrc(b.get(\"recordThumb\"));var a=b.get(\"recordArtist\")+\"<br>\"+b.get(\"recordName",547233,91,"});Ext.define(\"Recccords.view.Detail",538640,33,"config:{id:\"DetailContainer",546643,34,"layout:\"fit\",items:[{xtype:\"toolbar\",docked:\"top\",id:\"detailBar\",title:\"Record\",items:[{xtype:\"button\",id:\"recordBackButton\",ui:\"back\",text:\"Back\"}]},{xtype:\"container\",id:\"detailContent\",layout:\"vbox\",scrollable:\"vertical\",items:[{xtype:\"container\",centered:false,height:260,id:\"detailImageContainer\",layout:\"vbox\",items:[{xtype:\"image\",flex:1,height:240,id:\"detailImage\",itemId:\"myimg1\",maxWidth:\"100%\"",546911,32,"zIndex:11,backgroundCls:\"detailImageBackground\"}]},{xtype:\"container\",id:\"textContainer",546643,34,"zIndex:100,layout:\"vbox\",items:[{xtype:\"container\",id:\"recordButtonsContainer\",margin:\"10 10 ",546251,33,"\",id:\"addToCollectionButton\",itemId:\"mybutton15\",padding:\"5 0 0 0 \",width:146,text:\"Add to ",545851,33,"addToWantsButton\",itemId:\"mybutton16\",padding:\"5 0 0 0 \",width:146,text:\"Add to Wants\"}]},{xtype:\"container\",html:\"Album  Name\",id:\"detailAlbum\",margin:\"10 10 0 10\"},{xtype:\"container\",html:\"Artist Name\",id:\"detailArtist\",margin:\"0 10 \",layout:\"vbox\"},{xtype:\"container\",html:\"Label Year US 123456\",id:\"detailRecord\",margin:\"0 10 \",layout:\"vbox\"},{xtype:\"container\",html:\"Friends who have this\",id:\"detailFriends\",margin:\"0 10\",padding:\"0 0 10 0\"},{xtype:\"container\",html:\"Track list\",id:\"detailTracks\",margin:\"10 10\"}]}]}],listeners:[{fn:\"onDetailImageError\",event:\"error\",delegate:\"#detailImage\"},{fn:\"onAddToCollectionButtonTap\",event:\"tap\",delegate:\"#addToCollectionButton\"},{fn:\"onAddToWantsButtonTap\",event:\"tap\",delegate:\"#addToWantsButton\"},{fn:\"onDetailContainerActivate\",event:\"activate\"},{fn:\"onDetailContainerRemove\",event:\"remove\"}]},onDetailImageError:function(c,b,a){c.setSrc(\"https://s3.amazonaws.com/recccords/images/vinyl-placeholder-large.png\")},onAddToCollectionButton",540785,33,"DetailContainer: onAddToCollectionButtonTap\");var d=function(e){c.setDisabled(true);var g={\"background-color\":\"#D1D1D1\",color:\"#8A8A8A\"};c.setStyle(g);Ext.Msg.alert(\"Added to Collection\")};var a=function(e){console.log(\"error \"+e);Ext.Msg.alert(\"Error adding to Collection\")};saveToCollectionWithDiscogsData(this._data.discogsData,d,a)},onAddToWantsButton",540785,33,"DetailContainer: onAddToWantsButtonTap\");var d=function(e){c.setDisabled(true);var g={\"background-color\":\"#D1D1D1\",color:\"#8A8A8A\"};c.setStyle(g);Ext.Msg.alert(\"Added to Wants\")};var a=function(e){console.log(\"error \"+e);Ext.Msg.alert(\"Error adding to Wants\")};saveToWantsWithDiscogsData(this._data.discogsData,d,a)},onDetailContainerActivate:function(j,m,t,c){console.log(\"DetailContainer: activated\");var w=this;var y=j._data.discogsData;var n=w.down(\"#detailContent\").down(\"#detailImageContainer\").down(\"#detailImage\");n.setSrc(y.images[0].uri150);var e=Ext.getBody().getWidth();var h=n.getHeight()/n.getWidth();var r=h*e;n.setHeight(r);var a=w.down(\"#detailContent\").down(\"#textContainer\").down(\"#detailAlbum\");a.setHtml(y.title);var v=w.down(\"#detailContent\").down(\"#textContainer\").down(\"#detailArtist\");v.setHtml(y.artists[0].name);var u=w.down(\"#detailContent\").down(\"#textContainer\").down(\"#detailRecord\");u.setHtml(y.labels[0].name+\" \"+y.year+\" \"+y.country+\" \"+y.labels[0].catno);var f=\"\";for(var l=0;l<y.tracklist.length;l++){var x=y.tracklist[l];f+=\"<div><span class='detailTracks-position'>\"+x.position+\"</span><span class='detailTracks-title'>\"+x.title+\"</span><span class='detailTracks-duration'>\"+x.duration+\"</span></div>\"}var k=w.down(\"#detailContent\").down(\"#textContainer\").down(\"#detailTracks\");k.setHtml(f);var q=j._data.friends;var p=w.down(\"#detailContent\").down(\"#textContainer\").down(\"#detailFriends\");if(q.length===0){p.setHtml(\"None of your friend have this\")}else{var d=\"<div>Friends who have this </div>\";for(var l in q){d+=\"<div>\"+q[l].attributes.username+\"</div>\"}p.setHtml(d)}var i=j._data.status;if(i.inCollection){var g=w.down(\"#detailContent\").down(\"#textContainer\").down(\"#recordButtonsContainer\").down(\"#addToCollectionButton\");g.setDisabled(true);var s={\"background-color\":\"#D1D1D1\",color:\"#8A8A8A\"};g.setStyle(s)}if(i.inWants){var b=w.down(\"#detailContent\").down(\"#textContainer\").down(\"#recordButtonsContainer\").down(\"#addToWantsButton\");b.setDisabled(true);var s={\"background-color\":\"#D1D1D1\",color:\"#8A8A8A\"};b.setStyle(s)}var o=j._data.image;clearInterval(w.imagePolling);w.imagePolling=setInterval(function(){getLocalImages([o],function(z){if(z.status==200||z.status==204){clearInterval(w.imagePolling);if(z.results){n.setSrc(z.results[0])}}})},2500)},onDetailContainerRemove:function(a,d,b,c){if(this.imagePolling){clearInterval(this.imagePolling)",537929,32,"Feed",538640,33,"config:{id:\"FeedContainer\",layout:\"hbox\",items:[{xtype:\"toolbar\",docked:\"top\",title:\"Feed",546251,42,"id:\"feedHomeButton",546291,43,546525,36,"\"vbox\"",546574,51,"feed",546638,65,"feedDataItem\",emptyText:\"no data\",useComponents:true}]}],listeners:[{fn:\"onFeedHomeButtonTap\",event:\"tap\",delegate:\"#feedHomeButton\"},{fn:\"onFeedContainerActivate\",event:\"activate\"}]},onFeedHomeButtonTap:function(d,h,c){var f=this;console.log(\"on feed home \");var b=Ext.create(\"Recccords.view.mainView\",{});var g=b.down(\"#subContainer\");f",540923,92,"g.push(f.loggedInView);var a=Ext.getCmp(\"viewport\");a.removeAll();a.add(b)},onFeedContainerActivate:function(e,b,a,c){console.log(\"onFeedContainerInitialize\");var d=this;successCB=function(g){console.log(\"collectioncallback \"+g);var f",544454,40,"FeedItem\",data:g});d.down(\"#feedItems\").setStore(f)};failCB=function(f){console.log(\"getFeed failed error : \"+f.error)};d.successCB=successCB;d.failCB=failCB;getFeed(d.successCB,d.failCB",547321,32,"FeedData",422698,46,"alias:\"widget.feedDataItem\",config:{border:\"\",itemId:\"feedItem",546900,50,"\"vbox\",items:[{xtype:\"container\",id:\"NameContainer\",layout:\"hbox\",items:[{xtype:\"component\",flex:2,html:\"Text\",itemId:\"title\",margin:\"0 0 0 5%\",padding:\"3 0 0 0\"},{xtype:\"container\",flex:1,html:'<p align=\"right\">hours ago</p>',id:\"TimeContainer\",margin:\"0 5% 0 0\",padding:\"0 0 10 10\"},{xtype:\"container\",centered:false,docked:\"bottom\",height:240,id:\"ReleaseContainer\",margin:\"5%\",width:\"90%\",layout:\"vbox\",items:[{xtype:\"image\",centered:true,height:240,itemId:\"releaseimg\",maxWidth:\"100%\",width:\"100%\",backgroundCls:\"detailImageBackground\",src:\"\"}]}]}],listeners:[{fn:\"onReleaseimgError\",event:\"error\",delegate:\"#releaseimg\"}]},onReleaseimgError:function(c,b,a){c.setSrc(\"https://s3.amazonaws.com/recccords/images/vinyl-placeholder-large.png\")",424799,37,";if(c){d.down(\"#NameContainer\").down(\"#ReleaseContainer\").down(\"#releaseimg\").setSrc(c.get(\"recordThumb\"));var b=c.get(\"userActivity\")==\"addWants\"?\"wants\":\"added\";var a=\"<b>\"+c.get(\"username\")+\"</b> \"+b+\"<br>\"+c.get(\"recordArtist\")+\" - \"+c.get(\"recordName\");d.down(\"#NameContainer\").down(\"#title\").setHtml(a);d.down(\"#NameContainer\").down(\"#TimeContainer\").setHtml('<p align=\"right\">'+c.get(\"timeAgo\")+\"</p>\");d.callParent(arguments)",537929,32,"Wants",538640,33,"config:{id:\"CollectionContainer1\",layout:\"hbox\",items:[{xtype:\"toolbar\",docked:\"top\",title:\"Wants",546251,42,"id:\"collectionHomeButton1",546291,43,546525,36,"\"hbox\"",546574,51,"want",546638,65,"collectionDataItem\",emptyText:\"no data\",useComponents:true}]}],listeners:[{fn:\"onCollectionHomeButtonTap\",event:\"tap\",delegate:\"#collectionHomeButton1\"},{fn:\"onWantsContainerActivate\",event:\"activate\"}]},onCollectionHomeButtonTap:function(d,h,c){var f=this;console.log(\"on serach home \");var b=Ext.create(\"Recccords.view.mainView\",{});var g=b.down(\"#subContainer\");f",540923,92,"g.push(f.loggedInView);var a=Ext.getCmp(\"viewport\");a.removeAll();a.add(b)},onWantsContainerActivate:function(e,b,a,c){console.log(\"onCollectionContainerInitialize\");var d=this;successCB=function(f){console.log(\"wantscallback \"+f);var g",544454,40,"CollectionItem\",data:f});console.log(\"count \"+g.totalCount);d.down(\"#wantItems\").setStore(g)};failCB=function(f){console.log(\"getWants failed error : \"+f.error)};d.successCB=successCB;d.failCB=failCB;getWants(d.successCB,d.failCB)",547483,507,",\"CollectionItem\",\"DetailItem\",\"FeedItem",547989,74,548085,103,"mainView\",\"CollectionContainer\",\"CollectionDataItem\",\"DetailContainer\",\"FeedContainer\",\"FeedDataItem\",\"WantsContainer",548197,70,",\"CollectionController\",\"DetailController\",\"FeedController\",\"OAut",548255,135,"OAuth",538640,33,"config:{id:\"OAuthContainer\",style:\"background-color: white;\",items:[{xtype:\"label\",html:\"To get started with Recccords, please connect us to use your Discogs account.  We use Discogs to get your collections, wants, and record information.\",padding:20,style:\"line-height: 1.6em;\"},{xtype:\"button\",id:\"connectButton\",margin:\"0 25\",minHeight:50,text:\"Connect to Discogs\"},{xtype:\"label\",html:\"You are logged in as \",id:\"profileLabel\",padding:\"20 0 0 0\",style:\"text-align: center; font-size: 0.7em;\"},{xtype:\"button\",html:\"Logout\",id:\"logoutUserButton\",style:\"border: none; font-size: 0.7em;\",text:\"Logout\"}]",413552,46,"a=getParseUser();this.down(\"#profileLabel\").setHtml(\"Logged in as \"+a.get(\"username\"))",538603,32,"tart",538640,48,"tartcontainer\",config:{layout:\"card\"",548486,34,"\"vbox\"",548533,250]
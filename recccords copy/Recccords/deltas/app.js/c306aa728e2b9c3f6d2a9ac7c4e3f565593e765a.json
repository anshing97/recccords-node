["function _a35b413eb4202831b8f03c6a2916c49378a8ae99",50,288554,"abel",429887,32,"abel",412703,37,"label\"",288583,257257,",{name:\"userActivity",558096,34,545872,318,"username",546207,112,547121,49,"login",547183,59,546409,614,"password",547027,51," \"",547094,4230,"var f=getParseUser();me.launchUserScreen(me,f)};me",550318,52,551516,356,551894,265,"a",558959,46,552227,65,"var b=getParseUser();if(b){me.launchUserScreen(me,b)}else{me.getViewport().add(a);",552504,427,",launchUserScreen:function(b,a){parseCheckToken(function(c){console.log(\"in launch verify token is \"+c);if(c){console.log(\"MyController: redirecting to FEED\");b",562112,92,"b.feed",550192,32,"FeedContainer\",{});b",552255,37,"b.getViewport().add(b.feedView)}else{console.log(\"MyController: redirecting to OAUTH\");b.oauth",550192,32,"OAuthContainer\",{});b",552255,37,"b.getViewport().add(b.oauthView)",552927,270,",\"button#wantsViewButton\":{tap:\"onWants",549780,51,553192,580,",onWantsTap:function(d,f,c){wants",550192,32,"Wants",553659,103,"wantsView)},onDiscogsTap:function(d,f,c){oauth",550192,32,"OAuth",553659,103,"oauthView)",549152,37,553808,290,"action:\"onSearchfieldAction",554125,106,",\"container#searchContainer\":{remove:\"onSearchContainerRemove\"}}},onSearchfieldAction:function(c,f,a){var d=c.getValue().trim();var b=this;b.clearImageInterval();if(d.length>0){searchDiscogs(d,function(e,i,j){console.log(\"SearchCallBack: begin ------------\");console.log(e);console.log(\"SearchCallBack: end ------------\");if(i>0){var g=new ",548511,39,"Release\",data:e.results});b",554512,34,"g);var h=setInterval(function(){getLocalImages(j,function(l){if(l.status==200||l.status==204){b.clearImageInterval();if(l.results){for(var m=0;m<l.results.length;m++){var k=g.getAt(m);k.set(\"thumb\",l.results[m])}}}})},2500);b.setImageInterval(h)}else{console.log(\"SearchCallBack: no results\")}})}",554621,145,"SearchController: onItemtap: ",554781,32,"f.clearImageInterval();f.successCB=function(j){h.setStyle(\"background-color:rgb(255,255,255);\");console.log(\"SearchController: results from getRecordDiscogsAndUserData: \");console.log(j);var i",554878,49,"i.setData(j);var e=f.getViewport();e.add(i);Ext.Viewport.setActiveItem(i)};f.",555239,32,"SearchController: getRecordDiscogsAndUserData failed error : \"+e)};h.setStyle(\"background-color:rgb(200,200,200);\");getRecordDiscogsAndUserData(h._record.data.id,f.successCB,f.failCB)},onSearchContainerRemove:function(a,d,b,c){this.clearImageInterval()},clearImageInterval:function(){if(this.imagePollingInterval){clearInterval(this.imagePollingInterval)}},setImageInterval:function(a){this.clearImageInterval();this.imagePollingInterval=a",549152,37,555422,311,"CollectionController: onDataviewItemtap: ",555748,39,"f.successCB=function(j){h.setStyle(\"background-color:rgb(255,255,255);\");console.log(\"CollectionController: results from getRecordDiscogsAndUserData: \");console.log(j);var i",554878,49,"i.setData(j);i.down(\"#detailBar\").setTitle(j.discogsData.title);var e=f.getViewport();e.add(i);Ext.Viewport.setActiveItem(i)};f.failCB=function(e){h.setStyle(\"background-color:rgb(255,255,255);\");console.log(\"CollectionController: getRecordDiscogsAndUserData failed error : \"+e)};h.setStyle(\"background-color:rgb(200,200,200);\");getRecordDiscogsAndUserData",556328,37,",f.failCB)",549152,37,"Detail",552975,53,556462,46,"button#recordBackButton\":{tap:\"onButtonTap\"}}},onButton",551852,33,"onbackbutton\");b.getParent().getParent().getParent().remove(b.getParent().getParent())",549152,37,556687,51,553022,38,"#want",555641,92,"CollectionController: onDataviewItemtap: ",555748,39,"f.successCB=function(j){h.setStyle(\"background-color:rgb(255,255,255);\");console.log(\"CollectionController: results from getRecordDiscogsAndUserData: \");console.log(j);var i",554878,49,"i.setData(j);i.down(\"#detailBar\").setTitle(j.discogsData.title);var e=f.getViewport();e.add(i);Ext.Viewport.setActiveItem(i)};f.",555239,32,"CollectionController: getRecordDiscogsAndUserData failed error : \"+e)};getRecordDiscogsAndUserData",556328,37,",f.failCB)",549152,37,"OAuth",552975,53,"oauthContainer:\"#oauthContainer\"},control:{\"button#connectButton\":{tap:\"onConnectButtonTap\"},\"button#logoutUserButton\":{tap:\"onLogoutUserButtonTap\"}}},onConnectButtonTap:function(b,c,a){window.location.href=\"/auth/connect\"},onLogoutUserButton",551852,39," tapped\");parseLogOut(",559197,32,"Lis",564607,48,"list",546590,47,556871,613,"scrollable:\"vertical",557482,55,"25 25 15 25\"",557675,41,557602,54,"15 25\"",557675,103,"15 25\"",557675,41,557838,33,"wantsViewButton\",margin:\"0 25 15 25\"",557675,41,"Wants",557848,53,"0 25 15 25\",minHeight:3",558048,42,557967,80,"3",558048,129,"id:\"search",561436,49,558215,373,"id:\"searchResults",561436,40,547692,35,558652,815,560485,39,",src:\"\"",563008,83,559595,103,",listeners:[{fn:\"onImgError\",event:\"error\",delegate:\"#img\"},{fn:\"onBtnTap\",event:\"tap\",delegate:\"#btn\"}]},onImgError:function(c,b,a){c.setSrc(\"https://s3.amazonaws.com/recccords/images/vinyl-placeholder.png\")},onBtnTap:function(d,g,c){var b=this.getRecord();var f",559897,51,"var a",559956,59,"saveToCollection(b.data,f,a);g.stopPropagation()",560599,73,559771,117,560807,53,560239,360,",listeners:[{fn:\"onImgError\",event:\"error\",delegate:\"#img\"}]},onImgError:function(c,b,a){c.setSrc(\"https://s3.amazonaws.com/recccords/images/vinyl-placeholder.png\")",560599,361,"layout:\"fit",547469,39,"id:\"detailBar\",title:\"Record\",items:[{xtype:\"button\",id:\"recordBackButton\",ui:\"back\",text:\"Back\"}]},{xtype:\"container\",id:\"detailContent\",layout:\"vbox\",scrollable:\"vertical\",items:[{xtype:\"container\",centered:false,height:260,id:\"detailImageC",564709,39,"image\",flex:1,height:240,id:\"detailImage\",itemId:\"myimg1\",maxWidth:\"100%\"",560384,32,"zIndex:11,backgroundCls:\"detailImageBackground\"}]},{xtype:\"container\",id:\"text",560917,43,"zIndex:100,layout:\"vbox",562866,32,"recordButtonsContainer\",margin:\"10 10 ",547525,33,"\",id:\"addToCollectionButton\",itemId:\"mybutton15\",padding:\"5 0 0 0 \",width:146,text:\"Add to ",557838,33,"addToWantsButton\",itemId:\"mybutton16\",padding:\"5 0 0 0 \",width:146,text:\"Add to Wants\"}]},{xtype:\"container\",html:\"Album  Name\",id:\"detailAlbum\",margin:\"10 1",563074,34,"Artist Name\",id:\"detailArtist\",margin:\"0 10 \",layout:\"vbox\"},{xtype:\"container\",html:\"Label Year US 123456\",id:\"detailRecord\",margin:\"0 10 \",layout:\"vbox\"},{xtype:\"container\",html:\"Friends who have this\",id:\"detailFriends\",margin:\"0 10\",padding:\"0 0 10 0\"},{xtype:\"container\",html:\"Track list\",id:\"detailTracks\",margin:\"10 10\"}]}]}],listeners:[{fn:\"onDetailImageError\",event:\"error\",delegate:\"#detailImage\"},{fn:\"onAddToCollection",547897,34,"addToCollectionButton\"},{fn:\"onAddToWants",547897,34,"addToWantsButton\"},",561206,49,",{fn:\"onDetailContainerRemove\",event:\"remove\"}]},onDetailImageError:function(c,b,a){c.setSrc(\"https://s3.amazonaws.com/recccords/images/vinyl-placeholder-large.png\")},onAddToCollectionButton",550045,33,"DetailContainer: onAddToCollectionButtonTap\");var d=function(e){c.setDisabled(true);var g={\"background-color\":\"#D1D1D1\",color:\"#8A8A8A\"};c.setStyle(g);Ext.Msg.alert(\"Added to Collection\")};var a=function(e){console.log(\"error \"+e);Ext.Msg.alert(\"Error adding to Collection\")};saveToCollectionWithDiscogsData(this._data.discogsData,d,a)},onAddToWantsButton",550045,33,"DetailContainer: onAddToWantsButtonTap\");var d=function(e){c.setDisabled(true);var g={\"background-color\":\"#D1D1D1\",color:\"#8A8A8A\"};c.setStyle(g);Ext.Msg.alert(\"Added to Wants\")};var a=function(e){console.log(\"error \"+e);Ext.Msg.alert(\"Error adding to Wants\")};saveToWantsWithDiscogsData(this._data.discogsData,d,a)",561256,37,"j,m,t,c){console.log(\"DetailContainer: activated\");var w=this;var y=j._data.discogsData;var n=w.down(\"#detailContent\")",555071,52,"n.setSrc(y.images[0].uri150);var e=Ext.getBody().getWidth();var h=n.getHeight()/n.getWidth();var r=h*e;n.setHeight(r);var a=w.down(\"#detailContent\").down(\"#textContainer\").down(\"#detailAlbum\");a.setHtml(y.title);var v=w.down(\"#detailContent\").down(\"#textContainer\").down(\"#detailArtist\");v.setHtml(y.artists[0].name);var u=w.down(\"#detailContent\").down(\"#textContainer\").down(\"#detailRecord\");u.setHtml(y.labels[0].name+\" \"+y.year+\" \"+y.country+\" \"+y.labels[0].catno);var f=\"\";for(var l=0;l<y.tracklist.length;l++){var x=y.tracklist[l];f+=\"<div><span class='detailTracks-position'>\"+x.position+\"</span><span class='detailTracks-title'>\"+x.title+\"</span><span class='detailTracks-duration'>\"+x.duration+\"</span></div>\"}var k=w.down(\"#detailContent\").down(\"#textContainer\").down(\"#detailTracks\");k.setHtml(f);var q=j._data.friends;var p=w.down(\"#detailContent\").down(\"#textContainer\").down(\"#detailFriends\");if(q.length===0){p.setHtml(\"None of your friend have this\")}else{var d=\"<div>Friends who have this </div>\";for(var l in q){d+=\"<div>\"+q[l].attributes.username+\"</div>\"}p.setHtml(d)}var i=j._data.status;if(i.inCollection){var g=w.down(\"#detailContent\").down(\"#textContainer\").down(\"#recordButtonsContainer\").down(\"#addToCollectionButton\");g.setDisabled(true);var s={\"background-color\":\"#D1D1D1\",color:\"#8A8A8A\"};g.setStyle(s)}if(i.inWants){var b=w.down(\"#detailContent\").down(\"#textContainer\").down(\"#recordButtonsContainer\").down(\"#addToWantsButton\");b.setDisabled(true);var s={\"background-color\":\"#D1D1D1\",color:\"#8A8A8A\"};b.setStyle(s)}var o=j._data.image;clearInterval(w.imagePolling);w.imagePolling=setInterval(function(){getLocalImages([o],function(z){if(z.status==200||z.status==204){clearInterval(w.imagePolling);if(z.results){n.setSrc(z.results[0])}}})},2500)},onDetailContainerRemove:function(a,d,b,c){if(this.imagePolling){clearInterval(this.imagePolling",560206,33,"Feed",564608,33,561420,229,"v",547672,55,561705,1059,"f",562765,98,"vbox",562866,76,"component\",flex:2,html:\"Text\",itemId:\"title\",margin:\"0 0 0 5%\",padding:\"3 0 0 0\"},{xtype:\"container\",flex:1,html:'<p align=\"right\">hours ago</p>',id:\"TimeContainer\",margin:\"0 5% 0 0\",padding:\"0 0 10 10\"},{xtype:\"container\",centered:false,docked:\"bottom\",height:240,id:\"ReleaseContainer\",margin:\"5%\",width:\"90%\",layout:\"v",563212,49,"40,itemId:\"releaseimg\",maxWidth:\"100%\",width:\"100%\",backgroundCls:\"detailImageBackground\",src:\"\"}]}]}],listeners:[{fn:\"onReleaseimgError\",event:\"error\",delegate:\"#releaseimg\"}]},onReleaseimgError:function(c,b,a){c.setSrc(\"https://s3.amazonaws.com/recccords/images/vinyl-placeholder-large.png\")",432125,37,";if(c){d.down(\"#NameContainer\").down(\"#ReleaseContainer\").down(\"#releaseimg\").setSrc(c.get(\"recordThumb\"));var b=c.get(\"userActivity\")==\"addWants\"?\"wants\":\"added\";var a=\"<b>\"+c.get(\"username\")+\"</b> \"+b+\"<br>\"+c.get(\"recordArtist\")+\" - \"+c.get(\"recordName\");d.down(\"#NameContainer\").down(\"#title\").setHtml(a);d.down(\"#NameContainer\").down(\"#TimeContainer\").setHtml('<p align=\"right\">'+c.get(\"timeAgo\")+\"</p>\");d",563504,49,"view.Wants",564608,33,"config:{id:\"CollectionContainer1",547455,60,"Wants",547525,66,"1",547591,136,"want",561709,65,547802,149,"1\"},{fn:\"onWants",561919,41,548012,330,"Wants",548352,129,"wants",548491,128,"want",548629,56,"Wants",562570,69,"Wants",548774,48,563553,799,",\"WantsContainer",564351,129,",\"OAuth",564469,134,"OAuth",564608,33,"config:{id:\"OAuth",560917,35," white;\",items:[{xtype:\"label\",html:\"To get started with Recccords, please connect us to use your Discogs account.  We use Discogs to get your collections, wants, and record information.\",padding:20,style:\"line-height: 1.6em;\"},{xtype:\"button\",id:\"connectButton\",margin:\"0 25\",minHeight:50,text:\"Connect to Discogs\"},{xtype:\"label\",html:\"You are logged in as \",id:\"profileLabel\",padding:\"20 0 0 0\",style:\"text-align: center; font-size: 0.7em;\"},{xtype:\"button\",html:\"Logout\",id:\"logoutUserButton\",style:\"border: none; font-size: 0.7em;\",text:\"Logout\"}]",428911,42,"var a=getParseUser();this.down(\"#profileLabel\").setHtml(\"Logged in as \"+a.get(\"username\")",559197,33,564604,378]